- name: Install and configure Nginx
  hosts: all
  become: true
  gather_facts: true

  tasks:
    - name: Install epel-release
      become: yes
      yum:
        name: epel-release
        state: present

    - name: Install Python 3 for YUM-based systems
      become: yes
      yum:
        name: python3
        state: present

    - name: Install Nginx for YUM-based systems
      become: yes
      yum:
        name: nginx
        state: present

    - name: Ensure Nginx is running
      service:
        name: nginx
        state: started
        enabled: yes

